<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>World Time Atlas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson-client@3"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Space Grotesk", "system-ui", "sans-serif"],
            },
            colors: {
              navy: {
                950: "#0a0f1d",
                900: "#0f172a",
                800: "#16223a",
                700: "#1b2b4d",
              },
              silver: {
                100: "#f6f7fb",
                200: "#d8dde7",
                300: "#b9c1d3",
              },
              accent: {
                400: "#7bd3ff",
                500: "#5bb8ff",
              },
            },
            boxShadow: {
              glow: "0 20px 60px rgba(15, 23, 42, 0.6)",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-navy-950 text-silver-100 font-sans min-h-screen">
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(91,184,255,0.18),_transparent_55%)]"
    ></div>
    <div
      class="absolute inset-0 bg-[linear-gradient(120deg,_rgba(255,255,255,0.04)_1px,_transparent_1px),linear-gradient(60deg,_rgba(255,255,255,0.03)_1px,_transparent_1px)] bg-[length:140px_140px] opacity-40"
    ></div>

    <main class="relative z-10 px-6 md:px-12 py-12 max-w-6xl mx-auto">
      <header class="flex flex-col gap-8 md:gap-12">
        <div>
          <p class="uppercase tracking-[0.4em] text-xs text-accent-400 mb-3">Exact world time</p>
          <h1 class="text-4xl md:text-6xl font-semibold">Your time is exact.</h1>
          <p class="text-silver-300 mt-3 max-w-xl">
            Local time is detected by IP and synced to the server for accuracy. Sunrise and
            sunset times are calculated from your approximate location.
          </p>
        </div>

        <section class="rounded-3xl border border-white/10 bg-navy-800/70 shadow-glow p-8 md:p-10">
          <p class="text-silver-300 text-sm" id="locationLine">Locating you…</p>
          <div class="mt-4 flex flex-wrap items-end gap-4">
            <div class="text-5xl md:text-7xl font-semibold tracking-wide" id="heroTime">
              --:--:--
            </div>
            <div class="text-2xl md:text-3xl text-silver-300" id="heroSuffix"></div>
          </div>
          <div class="mt-3 flex flex-wrap items-center gap-4 text-silver-300">
            <span id="heroDate">--</span>
            <span class="h-1.5 w-1.5 rounded-full bg-accent-400"></span>
            <span id="heroZone">UTC</span>
            <span class="h-1.5 w-1.5 rounded-full bg-accent-400"></span>
            <span id="heroSun">Sunrise -- · Sunset --</span>
          </div>
        </section>
      </header>

      <section class="mt-12 grid gap-6 md:grid-cols-2">
        <div class="rounded-2xl border border-white/10 bg-navy-800/60 p-6">
          <label class="block text-sm font-semibold text-silver-200">Add a city</label>
          <div class="mt-4 flex flex-col sm:flex-row gap-3">
            <input
              id="cityInput"
              class="flex-1 rounded-xl bg-navy-900/70 border border-white/10 px-4 py-3 text-silver-100 placeholder:text-silver-300 focus:outline-none focus:ring-2 focus:ring-accent-500"
              placeholder="e.g. Mexico City"
            />
            <button
              id="addCityBtn"
              class="rounded-xl bg-silver-200 text-navy-900 font-semibold px-5 py-3 hover:bg-silver-100 transition"
            >
              Add
            </button>
          </div>
          <p class="text-xs text-silver-300 mt-3" id="cityHint">
            Search by city name and we’ll find the timezone.
          </p>
        </div>

        <div class="rounded-2xl border border-white/10 bg-navy-800/60 p-6">
          <label class="block text-sm font-semibold text-silver-200">Sync status</label>
          <div class="mt-4 flex items-center gap-4 text-silver-100 font-semibold">
            <span id="syncStatus">Syncing...</span>
            <span class="text-silver-300" id="syncDelta">--</span>
          </div>
          <p class="text-xs text-silver-300 mt-3">Server UTC keeps every clock aligned.</p>
        </div>
      </section>

      <section class="mt-12">
        <div class="flex items-center justify-between mb-5">
          <h2 class="text-xl font-semibold">Day / Night Terminator</h2>
          <p class="text-xs text-silver-300">Approximate solar position</p>
        </div>
        <div class="rounded-3xl border border-white/10 bg-navy-800/60 p-6 shadow-glow">
          <svg
            id="worldMap"
            viewBox="0 0 800 400"
            class="w-full h-auto"
            aria-label="World map with day and night boundary"
          >
            <rect width="800" height="400" fill="rgba(15, 23, 42, 0.6)"></rect>
            <defs>
              <clipPath id="landClip">
                <path id="mapLandClip" d=""></path>
              </clipPath>
            </defs>
            <g id="tzBands" clip-path="url(#landClip)"></g>
            <path
              id="mapLand"
              fill="none"
              stroke="rgba(216, 221, 231, 0.2)"
              stroke-width="0.6"
            ></path>
            <path
              id="terminator"
              d=""
              fill="none"
              stroke="rgba(91, 184, 255, 0.85)"
              stroke-width="2"
            ></path>
            <circle id="userDot" r="5" fill="rgba(247, 201, 72, 0.95)"></circle>
          </svg>
          <div
            class="mt-3 grid gap-0 text-[10px] uppercase tracking-[0.25em] text-silver-300/80"
            style="grid-template-columns: repeat(25, minmax(0, 1fr));"
            aria-hidden="true"
          >
            <span class="text-center">-12</span>
            <span class="text-center">-11</span>
            <span class="text-center">-10</span>
            <span class="text-center">-9</span>
            <span class="text-center">-8</span>
            <span class="text-center">-7</span>
            <span class="text-center">-6</span>
            <span class="text-center">-5</span>
            <span class="text-center">-4</span>
            <span class="text-center">-3</span>
            <span class="text-center">-2</span>
            <span class="text-center">-1</span>
            <span class="text-center">UTC</span>
            <span class="text-center">+1</span>
            <span class="text-center">+2</span>
            <span class="text-center">+3</span>
            <span class="text-center">+4</span>
            <span class="text-center">+5</span>
            <span class="text-center">+6</span>
            <span class="text-center">+7</span>
            <span class="text-center">+8</span>
            <span class="text-center">+9</span>
            <span class="text-center">+10</span>
            <span class="text-center">+11</span>
            <span class="text-center">+12</span>
          </div>
        </div>
      </section>

      <section class="mt-12">
        <div class="flex items-center justify-between mb-5">
          <h2 class="text-xl font-semibold">World board</h2>
          <button
            id="resetBtn"
            class="rounded-full border border-white/10 px-4 py-2 text-sm text-silver-200 hover:text-white transition"
          >
            Reset list
          </button>
        </div>
        <div id="cards" class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4"></div>
      </section>
    </main>

    <script>
      window.DEFAULT_TZS = {{ default_tzs | tojson }};
    </script>
    <script src="/static/app.js"></script>
  </body>
</html>
